<ng-container [formGroup]="form">
    <div class="search-box">
        <span class="p-input-icon-right">
            <input
                class="search"
                #inputSearch
                type="text"
                pInputText
                formControlName="search"
                placeholder="Search"
            />
            <i class="pi pi-search"></i>
        </span>
    </div>
</ng-container>

<p-table
    *ngIf="contentlets?.length; else notFound"
    [columns]="cols"
    [value]="contentlets"
    [scrollable]="true"
    [rows]="9"
    [virtualScroll]="true"
    [virtualScrollItemSize]="110"
    [lazy]="true"
    (onLazyLoad)="loadContentlets($event)"
    scrollHeight="250px"
>
    <ng-template pTemplate="body" let-contentlet>
        <tr class="table-row">
            <dot-image-card
                *ngIf="contentlet[0]"
                [contentlet]="contentlet[0]"
                (click)="selectedItem.emit(contentlet[0])"
            ></dot-image-card>
            <dot-image-card
                *ngIf="contentlet[1]"
                [contentlet]="contentlet[1]"
                (click)="selectedItem.emit(contentlet[1])"
            ></dot-image-card>
        </tr>
    </ng-template>

    <ng-template pTemplate="loadingbody">
        <tr class="table-row">
            <dot-image-card-skeleton></dot-image-card-skeleton>
            <dot-image-card-skeleton></dot-image-card-skeleton>
        </tr>
    </ng-template>
</p-table>

<ng-template #notFound>
    <div class="wrapper">
        <img [src]="icon" />
        <p>No results found, try searching again</p>
    </div>
</ng-template>
