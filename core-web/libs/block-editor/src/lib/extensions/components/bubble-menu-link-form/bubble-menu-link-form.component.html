<div class="form-container">
    <!-- FORM -->
    <form
        autoComplete="off"
        [formGroup]="form"
        (keydown)="onKeyDownEvent($event)"
        (mousedown)="focusInput()"
        (ngSubmit)="submitForm.emit(form.value)"
    >
        <div class="form-control">
            <input
                #input
                id="editor-input-link"
                type="text"
                class="search"
                placeholder="Paste link or search for pages"
                formControlName="link"
                (input)="setLoading()"
            />
            <button class="btn" type="submit">ADD</button>
        </div>

        <div class="form-control" *ngIf="initialValues.link.length">
            <div class="label-container">
                <a class="label-link" [href]="nodeLink" target="_blank">
                    <span class="material-icons">language</span>
                    <span class="truncate">{{ link }}</span>
                </a>
            </div>
        </div>

        <div class="form-control">
            <input
                id="blank"
                type="checkbox"
                formControlName="blank"
            />
            <label for="blank">Open in a new tap</label>
        </div>
    </form>

    <hr class="divider" *ngIf="showSuggestions || initialValues.link"/>

    <!-- Suggestions -->
    <dotcms-suggestions
        *ngIf="showSuggestions"
        #suggestions
        class="link-suggestions"
        [showTitle]="false"
        [showURL]="true"
        [loading]="loading"
        [items]="items"
        [onSelection]="onSelection"
        >
    </dotcms-suggestions>

    <!-- Form Actions -->
    <dotcms-form-actions
        [link]="initialValues.link"
        (hide)="hide.emit($event)"
        (removeLink)="removeLink.emit($event)"
    >
    </dotcms-form-actions>

</div>
