<div class="form-container">
    <form
        autoComplete="off"
        [formGroup]="form"
        (keydown)="onKeyDownEvent($event)"
        (mousedown)="focusInput()"
        (ngSubmit)="onSubmit(form)"
    >
        <div class="form-control">
            <input
                #input
                id="editor-input-link"
                type="text"
                class="search"
                placeholder="Paste link or search for pages"
                formControlName="link"
                (input)="setLoading()"
            />
            <button class="btn btn-add" type="submit">ADD</button>
        </div>

        <div class="form-control" *ngIf="initialValues.link">
            <div class="label-container">
                <a class="label-link" [href]="nodeLink" target="_blank">
                    <span class="material-icons">language</span>
                    <span class="truncate">{{ initialValues.link }}</span>
                </a>
            </div>
        </div>

        <div class="form-control">
            <input
                id="blank"
                type="checkbox"
                formControlName="blank"
            />
            <label for="blank">Open in a new tap</label>
        </div>
    </form>

    <div class="suggestions">
        <hr class="divider m-0"/>
        <dotcms-suggestions
            *ngIf="loading || items.length"
            #suggestions
            class="suggestions-styles"
            [showTitle]="false"
            [loading]="loading"
            [items]="items"
            [onSelection]="onSelection"
            >
        </dotcms-suggestions>
    </div>

    <div *ngIf="initialValues.link">
        <hr class="divider" />
        <div class="form-actions">
            <button class="btn btn-copy" (click)="copyLink()">
                COPY LINK
            </button>
            <button class="btn btn-remove" (click)="removeLink.emit(true)">
                REMOVE LINK
            </button>
        </div>
    </div>

</div>
