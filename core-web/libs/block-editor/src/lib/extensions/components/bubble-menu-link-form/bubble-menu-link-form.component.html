<div class="form-container">
    <form
        autoComplete="off"
        (keydown)="onKeyDownEvent($event)"
        (mousedown)="focusInput()"
        (submit)="addLink()"
    >
        <div class="form-control">
            <input
                #input
                id="editor-input-link"
                name="link"
                class="search"
                placeholder="Paste link or search for pages"
                type="text"
                [(ngModel)]="props.link"
                (input)="getContentlets()"
            />
            <button class="btn btn-add" click="addLink()">ADD</button>
        </div>

        <div class="form-control" *ngIf="link">
            <div class="label-container">
                <a class="label-link" [href]="nodeLink" target="_blank">
                    <span class="material-icons">language</span>
                    {{ link.length > 50 ? (link | slice:0:70 ) + '...' : link}}
                </a>
            </div>
        </div>

        <div class="form-control">
            <input
                id="blank"
                name="blank"
                [(ngModel)]="props.blank"
                type="checkbox"
            />
            <label for="blank">Open in a new tap</label>
        </div>
    </form>

    <div class="suggestions" *ngIf="items.length">
        <hr class="divider m-0"/>
        <dotcms-suggestions
            class="inherited-styles"
            [items]="items"
            [onSelection]="onSelection"
            #suggestions
            >
        </dotcms-suggestions>
    </div>

    <div *ngIf="link">
        <hr class="divider" />
        <div class="form-actions">
            <button class="btn btn-copy" (click)="copyLink()">
                COPY LINK
            </button>
            <button class="btn btn-remove" (click)="removeLink.emit(true)">
                REMOVE LINK
            </button>
        </div>
    </div>

</div>
